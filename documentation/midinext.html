<html>
<head>
	<title>MidiNext function</title>
	<style type="text/css">* {text-decoration: none; border-style: none; } span {width: 30%; vertical-align: top; }</style>
</head>
<body>
<h2>MidiNext</h2>
<pre>BOOL WINAPI MidiNext
(
	HANDLE hSequence
);</pre>
<p>This function plays any pending event of the sequence. This function is intended for custom playback. See Remarks below.</p>
<h3>Parameters</h3>
<ul>
<li><strong>hSequence</strong>: handle of the sequence to advance.</li>
</ul>
<h3>Return values</h3>
<p><code>TRUE</code> if something was played or <code>FALSE</code> if not. Note that you cannot use this function to determine an erroneous behaviour of the sequence.</p>
<h3>Remarks</h3>
<p>The sequence must have been opened with <a href="midiopen.html">MidiOpen</a> or created with <a href="midicreate.html">MidiCreate</a> before to be played. <strong>MidiNext</strong> returns to position zero if the end of the sequence was reached.</p>
<p>Include <strong>MidiNext</strong> in a loop to make a manual playback. In the example below, it was included in the main message loop with low priority.</p>
<h3>Example</h3>
<pre>HANDLE Sequence;
MSG msg;
BOOL ShouldPlay, Silenced;

// Open the sequence

MidiOpen("test1.mid", DEFAULT_DEVICE, &Sequence);

// Message loop

msg.message = 0;
ShouldPlay = TRUE;
Silenced = TRUE;

while (msg.message!=WM_QUIT)
{
    if (PeekMessage(&msg, NULL, 0, 0, PM_REMOVE))
        DispatchMessage(&msg);
    else
        if (ShouldPlay) 
        {
            MidiNext(Sequence);
            Silenced = FALSE;

            // Any other application processing of playback
        }
        else
        {
            if (!Silenced)
            {
                // Stops the sound
                MidiSilence(Sequence);
                Silenced = TRUE;
            };
        };
};

// Finishes

MidiClose(Sequence);</pre>
<p>The value of <code>ShouldPlay</code> is controlled by the user input to play or to stop. Another approach for manual playback is to include <strong>MidiNext</strong> in a timer. The recommended method, of course, is to use <a href="midiplay.html">MidiPlay</a>.</p>
<hr/>
<h3>Further information</h3>
<p>Released in November 19th, 2003<br/>
Updated in April 29th, 2004<br/>
Property of <strong>Bre</strong>no de <strong>L</strong>ima <strong>S</strong>armento<br/>
Home page: <a href="http://www27.brinkster.com/brels">http://www27.brinkster.com/brels</a><br/>
E-mail: <a href="mailto:breno_sarmento@hotmail.com">breno_sarmento@hotmail.com</a><br/>
ICQ: <a href="http://web.icq.com/whitepages/about_me/1,,,00.html?to=%25U&Uin=78977999">78977999</a> (<img src="http://web.icq.com/whitepages/online?icq=78977999&img=2" />)</p>
</body>
</html>