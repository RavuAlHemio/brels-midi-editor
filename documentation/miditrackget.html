<html>
<head>
	<title>MidiTrackGet function</title>
	<style type="text/css">* {text-decoration: none; border-style: none; } span {width: 30%; vertical-align: top; } table td { border-style: double; border-width: 3px; }</style>
</head>
<body>
<h2>MidiTrackGet</h2>
<pre>QWORD WINAPI MidiTrackGet
(
	HANDLE hSequence, 
	WORD wTrack, 
	DWORD dwWhat
);</pre>
<p>This function retrieves information about a track.</p>
<h3>Parameters</h3>
<ul>
<li><strong>hSequence</strong>: handle of the sequence from where information is retrieved</li>
<li><strong>wTrack</strong>: index of the track being queried.</li>
<li><strong>dwWhat</strong>: constant indicating the information required. See remarks below</li>
</ul>
<h3>Return values</h3>
<p>Returns the desired data or <code>BRELS_ERROR</code> (0xFFFFFFFFFFFFFFFF) if an error occurred. The reasons for an error are an invalid sequence handle, an invalid track index or an invalid information constant.</p>
<h3>Remarks</h3>
<p>The following table lists the information you can retrieve using <strong>MidiTrackGet</strong>:</p>
<table>
<tr><td><strong>Constant</strong></td><td><strong>Returned value</strong></td></tr>
<tr><td>BYTE_COUNT   </td><td><code>DWORD</code> value corresponding to the size of the encoded data of the track.</td></tr>
<tr><td>TICK_COUNT   </td><td><code>DWORD</code> value corresponding to the length of the track in ticks</td></tr>
<tr><td>TIME_COUNT   </td><td><code>QWORD</code> value corresponding to the length of the track in microseconds</td></tr>
<tr><td>EVENT_COUNT  </td><td><code>DWORD</code> value informing the number of events of the track.</td></tr>
<tr><td>CURRENT_EVENT</td><td><code>DWORD</code> value informing the current event of the track.</td></tr>
<tr><td>TRACK_DATA   </td><td>Pointer to a <code>BYTE</code> array corresponding to the encoded data of the track. Use <a href="midifreebuffer.html">MidiFreeBuffer</a> to deallocate this pointer later.</td></tr>
<tr><td>TRACK_HEADER </td><td>Pointer to a <a href="brels_track_header.html">BRELS_TRACK_HEADER</a> structure corresponding to the track header. Use <a href="midifreebuffer.html">MidiFreeBuffer</a> to deallocate this pointer later.</td></tr>
<tr><td>TRACK_MUTE   </td><td><code>BOOL</code> value informing whether note events (0x9<em>n</em>) will be ignored (<code>TRUE</code>) or played normally (<code>FALSE</code>).</td></tr>
<tr><td>TRACK_INDEX  </td><td><code>WORD</code> value corresponding to the track index (same value passed in the <em>wTrack</em> parameter).</td></tr>
</table>
<p>Always make a cast to the apropriate data type when retrieving information using <strong>MidiTrackGet</strong>, like in the example below:</p>
<h3>Example</h3>
<pre>HANDLE Sequence;
QWORD qwLength;
DWORD dwSize;
LPBYTE lpData;
LPBRELS_TRACK_HEADER lpbth;
BOOL Mute;

// Open the sequence
MidiOpen("test1.mid", NO_DEVICE, &Sequence);

// Get several types of values
qwLength = (QWORD) MidiTrackGet(Sequence, 0, TIME_COUNT);
dwSize = (DWORD) MidiTrackGet(Sequence, 0, BYTE_COUNT);
lpData = (LPBYTE) MidiTrackGet(Sequence, 0, TRACK_DATA);
lpbth = (LPBRELS_TRACK_HEADER) MidiTrackGet(Sequence, 0, TRACK_HEADER);
Mute = (BOOL) MidiTrackGet(Sequence, 0, TRACK_MUTE);

// Deallocate created data
MidiFreeBuffer(lpData);
MidiFreeBuffer(lpbth);

// Close the sequence
MidiClose(Sequence);</pre>
<hr/>
<h3>Further information</h3>
<p>Released in November 19th, 2003<br/>
Updated in April 29th, 2004<br/>
Property of <strong>Bre</strong>no de <strong>L</strong>ima <strong>S</strong>armento<br/>
Home page: <a href="http://www27.brinkster.com/brels">http://www27.brinkster.com/brels</a><br/>
E-mail: <a href="mailto:breno_sarmento@hotmail.com">breno_sarmento@hotmail.com</a><br/>
ICQ: <a href="http://web.icq.com/whitepages/about_me/1,,,00.html?to=%25U&Uin=78977999">78977999</a> (<img src="http://web.icq.com/whitepages/online?icq=78977999&img=2" />)</p>
</body>
</html>