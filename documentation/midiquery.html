<html>
<head>
	<title>MidiQuery function</title>
	<style type="text/css">* {text-decoration: none; border-style: none; } span {width: 30%; vertical-align: top; } table td { border-style: double; border-width: 3px; }</style>
</head>
<body>
<h2>MidiQuery</h2>
<pre>QWORD WINAPI MidiQuery
(
	HANDLE hSequence, 
	WORD wTrack, 
	DWORD dwWhat, 
	DWORD dwFrom, 
	QWORD qwValue
);</pre>
<p>This function converts the given value from a type to another in the context of a sequence and, optionally, in the context track</p>
<h3>Parameters</h3>
<ul>
<li><strong>hSequence</strong>: handle of the context sequence</li>
<li><strong>wTrack</strong>: index of the context track (ignored)</li>
<li><strong>dwWhat</strong>: type of value required. See remarks</li>
<li><strong>dwFrom</strong>: type of the input value. See remarks</li>
<li><strong>qwValue</strong>: input value</li>
</ul>
<h3>Return values</h3>
<p>Returns the converted value or <code>BRELS_ERROR</code> (0xFFFFFFFFFFFFFFFF) if an error occurred. The reasons for an error are an invalid sequence, an invalid track index when one is required or invalid type constants.</p>
<h3>Remarks</h3>
<p>You can convert <code>MIDI_TICKS</code> values to <code>MIDI_TIME</code> and vice-versa, or convert a <code>MIDI_FILTER</code> value (see <a href="midifiltertrackevents.html">MidiFilterTrackEvents</a>) to <code>MIDI_EVENT</code>. The following example shows those usages:</p>
<h3>Example</h3>
<pre>HANDLE Sequence;
DWORD dwTicks;
QWORD qwTime;
BYTE Event;

// Open the sequence
MidiOpen("test1.mid", NO_DEVICE, &Sequence);

// Ticks from time (1.5 seconds)
dwTicks = MidiQuery(Sequence, 0, MIDI_TICKS, MIDI_TIME, 1500000);

// Time from ticks (40 ticks)
qwTime = MidiQuery(Sequence, 0, MIDI_TIME, MIDI_TICKS, 40);

// Event from filter (FILTER_NOTEON)
Event = MidiQuery(Sequence, 0, MIDI_EVENT, MIDI_FILTER, FILTER_NOTEON);

// Close the sequence
MidiClose(Sequence);</pre>
<hr/>
<h3>Further information</h3>
<p>Released in November 19th, 2003<br/>
Updated in April 29th, 2004<br/>
Property of <strong>Bre</strong>no de <strong>L</strong>ima <strong>S</strong>armento<br/>
Home page: <a href="http://www27.brinkster.com/brels">http://www27.brinkster.com/brels</a><br/>
E-mail: <a href="mailto:breno_sarmento@hotmail.com">breno_sarmento@hotmail.com</a><br/>
ICQ: <a href="http://web.icq.com/whitepages/about_me/1,,,00.html?to=%25U&Uin=78977999">78977999</a> (<img src="http://web.icq.com/whitepages/online?icq=78977999&img=2" />)</p>
</body>
</html>